{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/joshm/Documents/Tallystream/src/app/api/clients/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from \"next/server\";\r\nimport prisma from \"../../../../../lib/prisma\";\r\n\r\n// GET /api/clients - list all clients\r\nexport async function GET() {\r\n  try {\r\n    const clients = await prisma.client.findMany({\r\n      orderBy: { createdAt: \"desc\" },\r\n    });\r\n    return NextResponse.json({ success: true, clients });\r\n  } catch (error) {\r\n    return NextResponse.json(\r\n      { success: false, error: String(error) },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n\r\n// POST /api/clients - create a new client\r\nexport async function POST(req: NextRequest) {\r\n  try {\r\n    const body = await req.json();\r\n    const { userId, company, contactName, email, phone, address, currency } = body;\r\n\r\n    if (!userId) {\r\n      return NextResponse.json(\r\n        { success: false, error: \"userId is required\" },\r\n        { status: 400 }\r\n      );\r\n    }\r\n\r\n    const client = await prisma.client.create({\r\n      data: {\r\n        userId,\r\n        company,\r\n        contactName,\r\n        email,\r\n        phone,\r\n        address,\r\n        currency: currency || \"USD\",\r\n      },\r\n    });\r\n\r\n    return NextResponse.json({ success: true, client }, { status: 201 });\r\n  } catch (error) {\r\n    return NextResponse.json(\r\n      { success: false, error: String(error) },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}"],"names":[],"mappings":";;;;;;AAAA;;;;;;;;AAIO,eAAe;IACpB,IAAI;QACF,MAAM,UAAU,MAAM,OAAO,MAAM,CAAC,QAAQ,CAAC;YAC3C,SAAS;gBAAE,WAAW;YAAO;QAC/B;QACA,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAAM;QAAQ;IACpD,EAAE,OAAO,OAAO;QACd,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,SAAS;YAAO,OAAO,OAAO;QAAO,GACvC;YAAE,QAAQ;QAAI;IAElB;AACF;AAGO,eAAe,KAAK,GAAgB;IACzC,IAAI;QACF,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,WAAW,EAAE,KAAK,EAAE,KAAK,EAAE,OAAO,EAAE,QAAQ,EAAE,GAAG;QAE1E,IAAI,CAAC,QAAQ;YACX,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,SAAS;gBAAO,OAAO;YAAqB,GAC9C;gBAAE,QAAQ;YAAI;QAElB;QAEA,MAAM,SAAS,MAAM,OAAO,MAAM,CAAC,MAAM,CAAC;YACxC,MAAM;gBACJ;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA,UAAU,YAAY;YACxB;QACF;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAAM;QAAO,GAAG;YAAE,QAAQ;QAAI;IACpE,EAAE,OAAO,OAAO;QACd,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,SAAS;YAAO,OAAO,OAAO;QAAO,GACvC;YAAE,QAAQ;QAAI;IAElB;AACF"}}]
}