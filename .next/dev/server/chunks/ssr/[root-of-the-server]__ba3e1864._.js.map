{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 24, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/joshm/Documents/Tallystream/src/lib/prisma.ts"],"sourcesContent":["import { PrismaClient } from \"@prisma/client\";\r\n\r\ndeclare global {\r\n  // eslint-disable-next-line no-var\r\n  var prisma: PrismaClient | undefined;\r\n}\r\n\r\nconst prisma = global.prisma ?? new PrismaClient();\r\n\r\nif (process.env.NODE_ENV !== \"production\") global.prisma = prisma;\r\n\r\nexport default prisma;\r\n"],"names":[],"mappings":";;;;AAAA;;AAOA,MAAM,SAAS,OAAO,MAAM,IAAI,IAAI,6IAAY;AAEhD,wCAA2C,OAAO,MAAM,GAAG;uCAE5C"}},
    {"offset": {"line": 37, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/joshm/Documents/Tallystream/src/app/dashboard/page.tsx"],"sourcesContent":["import Link from \"next/link\";\r\nimport prisma from \"@/lib/prisma\";\r\nimport type { Invoice, Client as PrismaClientModel } from \"@prisma/client\";\r\nimport { Users, Briefcase, FileText, ArrowRight } from \"lucide-react\";\r\n\r\ntype InvoiceWithClient = Invoice & { client: PrismaClientModel | null };\r\n\r\nexport default async function DashboardPage() {\r\n  const [userCount, clientCount, invoiceCount] = await Promise.all([\r\n    prisma.user.count(),\r\n    prisma.client.count(),\r\n    prisma.invoice.count(),\r\n  ]);\r\n  const recentInvoices: InvoiceWithClient[] = await prisma.invoice.findMany({\r\n    orderBy: { createdAt: \"desc\" },\r\n    take: 5,\r\n    include: { client: true },\r\n  });\r\n\r\n  return (\r\n    <main className=\"mx-auto max-w-5xl px-6 py-10\">\r\n      <h1 className=\"mb-6 text-3xl font-semibold\">\r\n        <span className=\"text-accent\">Dashboard</span>\r\n      </h1>\r\n\r\n      <div className=\"grid grid-cols-1 gap-4 sm:grid-cols-3\">\r\n        <StatCard label=\"Users\" value={userCount} icon={Users} delay={0} />\r\n        <StatCard label=\"Clients\" value={clientCount} icon={Briefcase} delay={100} />\r\n        <StatCard label=\"Invoices\" value={invoiceCount} icon={FileText} delay={200} />\r\n      </div>\r\n\r\n      <section className=\"mt-10\">\r\n        <div className=\"mb-4 flex items-center justify-between\">\r\n          <h2 className=\"text-xl font-medium\">Recent Invoices</h2>\r\n          <Link className=\"inline-flex items-center gap-1 text-sm text-blue-600 transition-all hover:gap-2 hover:underline\" href=\"/invoices\">\r\n            View all\r\n            <ArrowRight className=\"h-3.5 w-3.5\" strokeWidth={2.5} />\r\n          </Link>\r\n        </div>\r\n        <div className=\"card-surface soft-shadow overflow-x-auto\">\r\n          <table className=\"min-w-full\">\r\n            <thead className=\"bg-light-surface\">\r\n              <tr>\r\n                <th className=\"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-[var(--muted)]\">Invoice #</th>\r\n                <th className=\"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-[var(--muted)]\">Client</th>\r\n                <th className=\"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-[var(--muted)]\">Status</th>\r\n                <th className=\"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-[var(--muted)]\">Total</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody className=\"divide-y\" style={{ borderColor: 'var(--border)' }}>\r\n              {recentInvoices.map((inv) => (\r\n                <tr key={inv.id} className=\"hover-light-surface transition-colors\">\r\n                  <td className=\"px-4 py-3 text-sm font-medium\">{inv.invoiceNumber}</td>\r\n                  <td className=\"px-4 py-3 text-sm\">{inv.client?.company ?? inv.client?.contactName ?? \"â€”\"}</td>\r\n                  <td className=\"px-4 py-3 text-sm\">\r\n                    <span className=\"inline-flex items-center rounded-md bg-light-surface px-2 py-1 text-xs font-medium\">{inv.status}</span>\r\n                  </td>\r\n                  <td className=\"px-4 py-3 text-sm font-medium\">{(inv.totalCents / 100).toFixed(2)} {inv.currency}</td>\r\n                </tr>\r\n              ))}\r\n              {recentInvoices.length === 0 && (\r\n                <tr>\r\n                  <td className=\"px-4 py-6 text-sm text-[var(--muted)]\" colSpan={4}>\r\n                    No invoices yet.\r\n                  </td>\r\n                </tr>\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nfunction StatCard({ label, value, icon: Icon, delay }: { label: string; value: number; icon: React.ElementType; delay: number }) {\r\n  return (\r\n    <div\r\n      className=\"card-surface soft-shadow rounded-xl p-5 transition-all duration-300 hover:shadow-xl hover:scale-[1.02]\"\r\n    >\r\n      <div className=\"flex items-center justify-between\">\r\n        <div className=\"text-sm text-[var(--muted)]\">{label}</div>\r\n        <div className=\"rounded-lg p-2 shadow-md\" style={{ background: 'linear-gradient(135deg, var(--accent-from), var(--accent-to))' }}>\r\n          <Icon className=\"h-4 w-4 text-white\" strokeWidth={2.5} />\r\n        </div>\r\n      </div>\r\n      <div className=\"mt-2 text-3xl font-semibold text-[var(--foreground)]\">\r\n        {value}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;;;;;AAIe,eAAe;IAC5B,MAAM,CAAC,WAAW,aAAa,aAAa,GAAG,MAAM,QAAQ,GAAG,CAAC;QAC/D,+HAAM,CAAC,IAAI,CAAC,KAAK;QACjB,+HAAM,CAAC,MAAM,CAAC,KAAK;QACnB,+HAAM,CAAC,OAAO,CAAC,KAAK;KACrB;IACD,MAAM,iBAAsC,MAAM,+HAAM,CAAC,OAAO,CAAC,QAAQ,CAAC;QACxE,SAAS;YAAE,WAAW;QAAO;QAC7B,MAAM;QACN,SAAS;YAAE,QAAQ;QAAK;IAC1B;IAEA,qBACE,8OAAC;QAAK,WAAU;;0BACd,8OAAC;gBAAG,WAAU;0BACZ,cAAA,8OAAC;oBAAK,WAAU;8BAAc;;;;;;;;;;;0BAGhC,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAS,OAAM;wBAAQ,OAAO;wBAAW,MAAM,6MAAK;wBAAE,OAAO;;;;;;kCAC9D,8OAAC;wBAAS,OAAM;wBAAU,OAAO;wBAAa,MAAM,yNAAS;wBAAE,OAAO;;;;;;kCACtE,8OAAC;wBAAS,OAAM;wBAAW,OAAO;wBAAc,MAAM,0NAAQ;wBAAE,OAAO;;;;;;;;;;;;0BAGzE,8OAAC;gBAAQ,WAAU;;kCACjB,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAG,WAAU;0CAAsB;;;;;;0CACpC,8OAAC,0LAAI;gCAAC,WAAU;gCAAkG,MAAK;;oCAAY;kDAEjI,8OAAC,gOAAU;wCAAC,WAAU;wCAAc,aAAa;;;;;;;;;;;;;;;;;;kCAGrD,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BAAM,WAAU;;8CACf,8OAAC;oCAAM,WAAU;8CACf,cAAA,8OAAC;;0DACC,8OAAC;gDAAG,WAAU;0DAAyF;;;;;;0DACvG,8OAAC;gDAAG,WAAU;0DAAyF;;;;;;0DACvG,8OAAC;gDAAG,WAAU;0DAAyF;;;;;;0DACvG,8OAAC;gDAAG,WAAU;0DAAyF;;;;;;;;;;;;;;;;;8CAG3G,8OAAC;oCAAM,WAAU;oCAAW,OAAO;wCAAE,aAAa;oCAAgB;;wCAC/D,eAAe,GAAG,CAAC,CAAC,oBACnB,8OAAC;gDAAgB,WAAU;;kEACzB,8OAAC;wDAAG,WAAU;kEAAiC,IAAI,aAAa;;;;;;kEAChE,8OAAC;wDAAG,WAAU;kEAAqB,IAAI,MAAM,EAAE,WAAW,IAAI,MAAM,EAAE,eAAe;;;;;;kEACrF,8OAAC;wDAAG,WAAU;kEACZ,cAAA,8OAAC;4DAAK,WAAU;sEAAsF,IAAI,MAAM;;;;;;;;;;;kEAElH,8OAAC;wDAAG,WAAU;;4DAAiC,CAAC,IAAI,UAAU,GAAG,GAAG,EAAE,OAAO,CAAC;4DAAG;4DAAE,IAAI,QAAQ;;;;;;;;+CANxF,IAAI,EAAE;;;;;wCAShB,eAAe,MAAM,KAAK,mBACzB,8OAAC;sDACC,cAAA,8OAAC;gDAAG,WAAU;gDAAwC,SAAS;0DAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAWpF;AAEA,SAAS,SAAS,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,IAAI,EAAE,KAAK,EAA4E;IAC7H,qBACE,8OAAC;QACC,WAAU;;0BAEV,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;kCAA+B;;;;;;kCAC9C,8OAAC;wBAAI,WAAU;wBAA2B,OAAO;4BAAE,YAAY;wBAAgE;kCAC7H,cAAA,8OAAC;4BAAK,WAAU;4BAAqB,aAAa;;;;;;;;;;;;;;;;;0BAGtD,8OAAC;gBAAI,WAAU;0BACZ;;;;;;;;;;;;AAIT"}}]
}